{"version":3,"sources":["popups/Form.module.css","UI/PopUp.js","popups/Header.js","UI/SubNavigation.module.css","UI/PopUp.module.css","popups/Header.module.css","UI/ErrorMessage.js","popups/CreateSKUForm.js","UI/SubNavigation.js","components/Top3.module.css","components/BarChart.module.css","components/TotalFigures.module.css","components/BarChart.js","components/TotalFigures.js","helpers/InsertionSort.js","components/Top3Categories.js","components/Top3Items.js","components/LowStockList.js","pages/Dashboard.js"],"names":["module","exports","PopUp","props","className","style","popup","children","header","ErrorMessage","CreateSKUForm","categoryRef","useRef","nameRef","costRef","sellRef","addSKUHandler","event","preventDefault","results","id","Date","now","category","current","value","name","trim","costprice","parseInt","sellprice","qty","expense","revenue","qtySold","fetch","method","body","JSON","stringify","headers","response","json","closeButton","showSKU","form","onSubmit","htmlFor","labels","ref","required","type","placeholder","controls","minLength","maxLength","min","max","step","btn","onClick","SubNavigation","useState","triggerPopUp","setTriggerPopUp","subnav","title","createButton","ReactDOM","createPortal","Header","document","getElementById","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","options","indexAxis","elements","bar","borderWidth","responsive","plugins","legend","display","position","text","data","datasets","label","borderColor","backgroundColor","BarChart","profit","i","skus","length","barchart","TotalFigures","main","card","green","red","blue","InsertionSort","array","field","currentVal","j","Top3Categories","sortedArray","extractedCategories","sortedSum","map","sku","push","sortedCategories","Set","sum","object","key","newSortedArray","k","pop","teal","h2","item","p","Top3Items","LowStockList","lowStock","Dashboard","setSkus","isLoading","setisLoading","error","setError","ok","Error","loadedSkus","message","useEffect","fetchSKUHandler","LoadSpinner"],"mappings":"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","file":"static/js/3.dd573e41.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2AFRh\",\"controls\":\"Form_controls__4wvFE\",\"controls-select\":\"Form_controls-select__1gELz\",\"message\":\"Form_message__1SekR\",\"labels\":\"Form_labels__OFjxq\",\"btn\":\"Form_btn__3NmVo\"};","import React from \"react\";\r\nimport style from \"./PopUp.module.css\";\r\n\r\n\r\nfunction PopUp(props) {\r\n  return (\r\n    <div className={style.popup}>\r\n      <div className={style[\"popup-inner\"]}>\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopUp;\r\n","import React from \"react\";\r\nimport style from \"./Header.module.css\";\r\n\r\nfunction header(props) {\r\n  return <div className={style.header}>{props.children}</div>;\r\n}\r\n\r\nexport default header;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subnav\":\"SubNavigation_subnav__1DEKS\",\"btn\":\"SubNavigation_btn__3UXfp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"PopUp_popup__2aavL\",\"popup-inner\":\"PopUp_popup-inner__d2hMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3EWpY\"};","import React from 'react'\r\n\r\nfunction ErrorMessage(props) {\r\n  return (\r\n    <p className='centered-big'>{props.children}</p>\r\n  )\r\n}\r\n\r\nexport default ErrorMessage","import React, { useRef } from \"react\";\r\nimport style from \"./Form.module.css\";\r\n\r\nfunction CreateSKUForm(props) {\r\n  const categoryRef = useRef(\"\");\r\n  const nameRef = useRef(\"\");\r\n  const costRef = useRef(\"\");\r\n  const sellRef = useRef(\"\");\r\n\r\n  async function addSKUHandler(event) {\r\n    event.preventDefault();\r\n\r\n    const results = {\r\n      id: Date.now(),\r\n      category: categoryRef.current.value,\r\n      name: nameRef.current.value.trim(),\r\n      costprice: parseInt(costRef.current.value),\r\n      sellprice: parseInt(sellRef.current.value),\r\n      qty: 0,\r\n      expense: 0,\r\n      revenue: 0,\r\n      qtySold: 0,\r\n    };\r\n\r\n    const response = await fetch(\r\n      \"https://react-ecommerce-cms-d3834-default-rtdb.asia-southeast1.firebasedatabase.app/sku.json\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(results),\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      }\r\n    );\r\n    await response.json();\r\n  }\r\n\r\n  async function completeSubmit(event) {\r\n    await addSKUHandler(event);\r\n    await props.closeButton(false);\r\n    await props.showSKU();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form id=\"CreateSKUForm\" className={style.form} onSubmit={completeSubmit}>\r\n        <label htmlFor=\"category\" className={style.labels}>\r\n          Category\r\n        </label>\r\n        <select\r\n          name=\"category\"\r\n          className={style[\"controls-select\"]}\r\n          ref={categoryRef}\r\n          required\r\n        >\r\n          <option value=\"Bags\">Bags</option>\r\n          <option value=\"Belts\">Belts</option>\r\n          <option value=\"Clothes\">Clothes</option>\r\n          <option value=\"Shoes\">Shoes</option>\r\n          <option value=\"Wallets\">Wallets</option>\r\n        </select>\r\n        <label htmlFor=\"name\" className={style.labels}>\r\n          Name\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Name\"\r\n          className={style.controls}\r\n          ref={nameRef}\r\n          minLength=\"3\"\r\n          maxLength=\"20\"\r\n          required\r\n        />\r\n        <label htmlFor=\"costprice\" className={style.labels}>\r\n          Cost Price\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"costprice\"\r\n          placeholder=\"Cost Price\"\r\n          className={style.controls}\r\n          ref={costRef}\r\n          min=\"1\"\r\n          max=\"9999\"\r\n          step=\"1\"\r\n          required\r\n        />\r\n        <label htmlFor=\"sellprice\" className={style.labels}>\r\n          Selling Price\r\n        </label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"sellprice\"\r\n          placeholder=\"Selling Price\"\r\n          className={style.controls}\r\n          ref={sellRef}\r\n          min=\"1\"\r\n          max=\"9999\"\r\n          step=\"1\"\r\n          required\r\n        />\r\n        <div>\r\n          <input className={style.btn} type=\"submit\" value=\"Submit\" />\r\n          <button\r\n            className={style.btn}\r\n            type=\"button\"\r\n            onClick={() => props.closeButton(false)}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateSKUForm;\r\n","import style from \"./SubNavigation.module.css\";\r\nimport { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport PopUp from \"../UI/PopUp\";\r\nimport Header from \"../popups/Header\";\r\nimport CreateSKUForm from \"../popups/CreateSKUForm\";\r\n\r\nexport default function SubNavigation(props) {\r\n  const [triggerPopUp, setTriggerPopUp] = useState(false);\r\n\r\n  function PopUpHandler() {\r\n    setTriggerPopUp(true);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={style.subnav}>\r\n        {props.title}\r\n        {props.createButton && (\r\n          <button className={style.btn} type=\"button\" onClick={PopUpHandler}>\r\n            Create SKU\r\n          </button>\r\n        )}\r\n      </div>\r\n      {triggerPopUp &&\r\n        ReactDOM.createPortal(\r\n          <PopUp >\r\n            <Header>Create Page</Header>\r\n            <CreateSKUForm closeButton={setTriggerPopUp} showSKU={props.showSKU}/>\r\n          </PopUp>,\r\n          document.getElementById(\"popup-window\")\r\n        )}\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Top3_main__2mdj0\",\"teal\":\"Top3_teal__1hLoC\",\"teal-bottom\":\"Top3_teal-bottom__1ZFdP\",\"red\":\"Top3_red__3MubE\",\"red-bottom\":\"Top3_red-bottom__2n_nV\",\"h2\":\"Top3_h2__v8hIE\",\"p\":\"Top3_p__2eP6Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"barchart\":\"BarChart_barchart__ntW2n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"TotalFigures_main__2WX_u\",\"card\":\"TotalFigures_card__3A-oh\",\"red\":\"TotalFigures_red__2CxJi\",\"green\":\"TotalFigures_green__1hVWE\",\"blue\":\"TotalFigures_blue__1mA9t\"};","import React from \"react\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport style from \"./BarChart.module.css\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nexport const options = {\r\n  indexAxis: \"y\",\r\n  elements: {\r\n    bar: {\r\n      borderWidth: 2,\r\n    },\r\n  },\r\n  responsive: true,\r\n  plugins: {\r\n    legend: {\r\n      display: false,\r\n      position: \"bottom\",\r\n    },\r\n    title: {\r\n      display: true,\r\n      text: \"Revenue / Expenses \",\r\n    },\r\n    Tooltip: { display: false },\r\n  },\r\n};\r\n\r\nconst labels = [\"Revenue\", \"Expenses\", \"Profit\"];\r\n\r\nexport const data = {\r\n  labels,\r\n  datasets: [\r\n    {\r\n      label: \"Amount\",\r\n      data: [\"\", \"\", \"\"],\r\n      borderColor: [\r\n        \"rgb(97, 255, 168)\",\r\n        \"rgb(255, 99, 132)\",\r\n        \"rgb(97, 237, 255)\",\r\n      ],\r\n      backgroundColor: [\r\n        \"rgb(97, 255, 168)\",\r\n        \"rgb(255, 99, 132)\",\r\n        \"rgb(97, 237, 255)\",\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nexport function BarChart(props) {\r\n  let expense = 0;\r\n  let revenue = 0;\r\n  let profit = 0;\r\n\r\n  for (let i = 0; i < props.skus.length; i++) {\r\n    expense += parseInt(props.skus[i].expense);\r\n    revenue += parseInt(props.skus[i].revenue);\r\n  }\r\n\r\n  profit = revenue - expense;\r\n  data.datasets[0].data = [revenue, expense, profit];\r\n\r\n  return (\r\n    <div className={style.barchart}>\r\n      <Bar options={options} data={data} />\r\n    </div>\r\n  );\r\n}\r\n","import style from \"./TotalFigures.module.css\";\r\n\r\nexport default function TotalFigures(props) {\r\n  let expense = 0;\r\n  let revenue = 0;\r\n  let profit = 0;\r\n\r\n  // Sum Expense and Revenue\r\n  for (let i = 0; i < props.skus.length; i++) {\r\n    expense += parseInt(props.skus[i].expense);\r\n    revenue += parseInt(props.skus[i].revenue);\r\n  }\r\n\r\n  // Calculate Profit\r\n  profit = revenue - expense;\r\n\r\n  return (\r\n    <div className={style.main}>\r\n      <div className={style.card}>\r\n        <h2>Total Revenue:</h2>\r\n        <p className={style.green}>${revenue}</p>\r\n      </div>\r\n      <div className={style.card}>\r\n        <h2>Total Expense:</h2>\r\n        <p className={style.red}>${expense}</p>\r\n      </div>\r\n      <div className={style.card}>\r\n        <h2>Total Profit:</h2>\r\n        <p className={style.blue}>${profit}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","function InsertionSort(array, field) {\r\n  for (let i = 1; i < array.length; i++) {\r\n    let currentVal = array[i];\r\n    let j = i - 1;\r\n\r\n    for (\r\n      j = i - 1;\r\n      j >= 0 && array[j][field] < currentVal[field];\r\n      j--\r\n    ) {\r\n      array[j + 1] = array[j];\r\n    }\r\n    array[j + 1] = currentVal;\r\n  }\r\n  return array;\r\n}\r\n\r\nexport default InsertionSort;\r\n","import style from \"./Top3.module.css\";\r\nimport InsertionSort from \"../helpers/InsertionSort\";\r\n\r\nexport default function Top3Categories(props) {\r\n  const sortedArray = [];\r\n  const extractedCategories = [];\r\n  const sortedSum = [];\r\n\r\n  // Clone Array\r\n  props.skus.map((sku) => {\r\n    sortedArray.push(sku);\r\n    return sortedArray;\r\n  });\r\n\r\n  // Clone Categories Array\r\n  props.skus.map((sku) => {\r\n    extractedCategories.push(sku.category);\r\n    return extractedCategories;\r\n  });\r\n  const sortedCategories = [...new Set(extractedCategories)];\r\n\r\n  // Sum the Categories Revenue (Time Complexity to be improved)\r\n  let sum = 0;\r\n  for (let i = 0; i < sortedCategories.length; i++) {\r\n    sum = 0;\r\n    for (let j = 0; j < sortedArray.length; j++) {\r\n      if (sortedCategories[i] === sortedArray[j].category) {\r\n        sum += parseInt(sortedArray[j].revenue);\r\n      }\r\n    }\r\n    let object = { key: i, category: sortedCategories[i], sum: sum };\r\n    sortedSum.push(object);\r\n  }\r\n\r\n  // Insertion Sort\r\n  const newSortedArray = InsertionSort(sortedSum, \"sum\");\r\n\r\n  // Filter for Top 3\r\n  for (let k = newSortedArray.length; k > 3; k--) {\r\n    newSortedArray.pop();\r\n  }\r\n\r\n  return (\r\n    <div className={`${style.main} ${style.teal}`}>\r\n      <h2 className={`${style.h2} ${style[\"teal-bottom\"]}`}>\r\n        Top 3 Categories\r\n      </h2>\r\n      {newSortedArray.map((item) => {\r\n        return (\r\n          <p key={item.key} className={`${style.p} ${style[\"teal-bottom\"]}`}>\r\n            {item.category}\r\n          </p>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import style from \"./Top3.module.css\";\r\nimport InsertionSort from \"../helpers/InsertionSort\";\r\n\r\nexport default function Top3Items(props) {\r\n  const sortedArray = [];\r\n  // Clone Array\r\n  props.skus.map((sku) => {\r\n    sortedArray.push(sku);\r\n    return sortedArray;\r\n  });\r\n\r\n  // Insertion Sort\r\n  const newSortedArray = InsertionSort(sortedArray, \"qtySold\");\r\n\r\n  // Filter for Top 3\r\n  for (let k = newSortedArray.length; k > 3; k--) {\r\n    newSortedArray.pop();\r\n  }\r\n\r\n  return (\r\n    <div className={`${style.main} ${style.teal}`}>\r\n      <h2 className={`${style.h2} ${style[\"teal-bottom\"]}`}>\r\n        Top 3 Selling Items\r\n      </h2>\r\n      {newSortedArray.map((item) => {\r\n        return (\r\n          <p key={item.key} className={`${style.p} ${style[\"teal-bottom\"]}`}>\r\n            {item.name}\r\n          </p>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import style from \"./Top3.module.css\";\r\n\r\nexport default function LowStockList(props) {\r\n  return (\r\n    <div className={`${style.main} ${style.red}`}>\r\n      <h2 className={`${style.h2} ${style[\"red-bottom\"]}`}>Low Stock</h2>\r\n      {props.lowStock.map((item) => {\r\n        if (item.qty < 6)\r\n          return (\r\n            <p key={item.key} className={`${style.p} ${style[\"red-bottom\"]}`}>{item.name}</p>\r\n          );\r\n        return null;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport SubNavigation from \"../UI/SubNavigation\";\r\nimport { BarChart } from \"../components/BarChart\";\r\nimport TotalFigures from \"../components/TotalFigures\";\r\nimport Top3Categories from \"../components/Top3Categories\";\r\nimport Top3Items from \"../components/Top3Items\";\r\nimport LowStockList from \"../components/LowStockList\";\r\nimport LoadSpinner from \"../UI/LoadSpinner\";\r\nimport ErrorMessage from \"../UI/ErrorMessage\";\r\n\r\n\r\nexport default function Dashboard(props) {\r\n  const [skus, setSkus] = useState([]);\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  async function fetchSKUHandler() {\r\n    setisLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch(\r\n        \"https://react-ecommerce-cms-d3834-default-rtdb.asia-southeast1.firebasedatabase.app/sku.json\"\r\n      );\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Fetch link could have issues, something went wrong.\");\r\n      }\r\n\r\n      const loadedSkus = [];\r\n\r\n      for (const key in data) {\r\n        loadedSkus.push({\r\n          key: key,\r\n          id: data[key].id,\r\n          name: data[key].name,\r\n          category: data[key].category,\r\n          qty: data[key].qty,\r\n          expense: data[key].expense,\r\n          revenue: data[key].revenue,\r\n          qtySold: data[key].qtySold,\r\n        });\r\n      }\r\n\r\n      setSkus(loadedSkus);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n    setisLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchSKUHandler();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <SubNavigation title=\"Dashboard\" />\r\n      {!isLoading && !error && skus.length > 0 && <TotalFigures skus={skus} />}\r\n      {!isLoading && !error && skus.length > 0 && (\r\n        <div className=\"centered\">\r\n          <BarChart skus={skus} />\r\n          <Top3Categories skus={skus} />\r\n          <Top3Items skus={skus} />\r\n          <LowStockList lowStock={skus} />\r\n        </div>\r\n      )}\r\n      {!isLoading && error && <ErrorMessage>{error}</ErrorMessage>}\r\n      {!isLoading && skus.length === 0 && !error && <ErrorMessage>No SKUs Exists</ErrorMessage>}\r\n      {isLoading && <LoadSpinner />}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}