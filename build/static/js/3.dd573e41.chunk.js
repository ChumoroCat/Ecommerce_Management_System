(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[3],{28:function(e,t,a){e.exports={form:"Form_form__2AFRh",controls:"Form_controls__4wvFE","controls-select":"Form_controls-select__1gELz",message:"Form_message__1SekR",labels:"Form_labels__OFjxq",btn:"Form_btn__3NmVo"}},29:function(e,t,a){"use strict";a(0);var n=a(33),s=a.n(n),r=a(2);t.a=function(e){return Object(r.jsx)("div",{className:s.a.popup,children:Object(r.jsx)("div",{className:s.a["popup-inner"],children:e.children})})}},30:function(e,t,a){"use strict";a(0);var n=a(34),s=a.n(n),r=a(2);t.a=function(e){return Object(r.jsx)("div",{className:s.a.header,children:e.children})}},32:function(e,t,a){e.exports={subnav:"SubNavigation_subnav__1DEKS",btn:"SubNavigation_btn__3UXfp"}},33:function(e,t,a){e.exports={popup:"PopUp_popup__2aavL","popup-inner":"PopUp_popup-inner__d2hMK"}},34:function(e,t,a){e.exports={header:"Header_header__3EWpY"}},35:function(e,t,a){"use strict";a(0);var n=a(2);t.a=function(e){return Object(n.jsx)("p",{className:"centered-big",children:e.children})}},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(4),s=a(32),r=a.n(s),c=a(0),o=a(15),l=a.n(o),i=a(29),u=a(30),p=a(26),b=a(27),j=a(28),d=a.n(j),h=a(2);var m=function(e){var t=Object(c.useRef)(""),a=Object(c.useRef)(""),n=Object(c.useRef)(""),s=Object(c.useRef)("");function r(e){return o.apply(this,arguments)}function o(){return(o=Object(b.a)(Object(p.a)().mark((function e(r){var c,o;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c={id:Date.now(),category:t.current.value,name:a.current.value.trim(),costprice:parseInt(n.current.value),sellprice:parseInt(s.current.value),qty:0,expense:0,revenue:0,qtySold:0},e.next=4,fetch("https://react-ecommerce-cms-d3834-default-rtdb.asia-southeast1.firebasedatabase.app/sku.json",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 4:return o=e.sent,e.next=7,o.json();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(b.a)(Object(p.a)().mark((function t(a){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(a);case 2:return t.next=4,e.closeButton(!1);case 4:return t.next=6,e.showSKU();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{id:"CreateSKUForm",className:d.a.form,onSubmit:function(e){return l.apply(this,arguments)},children:[Object(h.jsx)("label",{htmlFor:"category",className:d.a.labels,children:"Category"}),Object(h.jsxs)("select",{name:"category",className:d.a["controls-select"],ref:t,required:!0,children:[Object(h.jsx)("option",{value:"Bags",children:"Bags"}),Object(h.jsx)("option",{value:"Belts",children:"Belts"}),Object(h.jsx)("option",{value:"Clothes",children:"Clothes"}),Object(h.jsx)("option",{value:"Shoes",children:"Shoes"}),Object(h.jsx)("option",{value:"Wallets",children:"Wallets"})]}),Object(h.jsx)("label",{htmlFor:"name",className:d.a.labels,children:"Name"}),Object(h.jsx)("input",{type:"text",name:"name",placeholder:"Name",className:d.a.controls,ref:a,minLength:"3",maxLength:"20",required:!0}),Object(h.jsx)("label",{htmlFor:"costprice",className:d.a.labels,children:"Cost Price"}),Object(h.jsx)("input",{type:"number",name:"costprice",placeholder:"Cost Price",className:d.a.controls,ref:n,min:"1",max:"9999",step:"1",required:!0}),Object(h.jsx)("label",{htmlFor:"sellprice",className:d.a.labels,children:"Selling Price"}),Object(h.jsx)("input",{type:"number",name:"sellprice",placeholder:"Selling Price",className:d.a.controls,ref:s,min:"1",max:"9999",step:"1",required:!0}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:d.a.btn,type:"submit",value:"Submit"}),Object(h.jsx)("button",{className:d.a.btn,type:"button",onClick:function(){return e.closeButton(!1)},children:"Close"})]})]})})};function x(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=a[0],o=a[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:r.a.subnav,children:[e.title,e.createButton&&Object(h.jsx)("button",{className:r.a.btn,type:"button",onClick:function(){o(!0)},children:"Create SKU"})]}),s&&l.a.createPortal(Object(h.jsxs)(i.a,{children:[Object(h.jsx)(u.a,{children:"Create Page"}),Object(h.jsx)(m,{closeButton:o,showSKU:e.showSKU})]}),document.getElementById("popup-window"))]})}},38:function(e,t,a){e.exports={main:"Top3_main__2mdj0",teal:"Top3_teal__1hLoC","teal-bottom":"Top3_teal-bottom__1ZFdP",red:"Top3_red__3MubE","red-bottom":"Top3_red-bottom__2n_nV",h2:"Top3_h2__v8hIE",p:"Top3_p__2eP6Y"}},43:function(e,t,a){e.exports={barchart:"BarChart_barchart__ntW2n"}},44:function(e,t,a){e.exports={main:"TotalFigures_main__2WX_u",card:"TotalFigures_card__3A-oh",red:"TotalFigures_red__2CxJi",green:"TotalFigures_green__1hVWE",blue:"TotalFigures_blue__1mA9t"}},47:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(26),s=a(27),r=a(4),c=a(0),o=a(36),l=a(42),i=a(46),u=a(43),p=a.n(u),b=a(2);l.e.register(l.d,l.i,l.b,l.n,l.o,l.g);var j={indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{display:!1,position:"bottom"},title:{display:!0,text:"Revenue / Expenses "},Tooltip:{display:!1}}},d={labels:["Revenue","Expenses","Profit"],datasets:[{label:"Amount",data:["","",""],borderColor:["rgb(97, 255, 168)","rgb(255, 99, 132)","rgb(97, 237, 255)"],backgroundColor:["rgb(97, 255, 168)","rgb(255, 99, 132)","rgb(97, 237, 255)"]}]};function h(e){for(var t,a=0,n=0,s=0;s<e.skus.length;s++)a+=parseInt(e.skus[s].expense),n+=parseInt(e.skus[s].revenue);return t=n-a,d.datasets[0].data=[n,a,t],Object(b.jsx)("div",{className:p.a.barchart,children:Object(b.jsx)(i.a,{options:j,data:d})})}var m=a(44),x=a.n(m);function f(e){for(var t,a=0,n=0,s=0;s<e.skus.length;s++)a+=parseInt(e.skus[s].expense),n+=parseInt(e.skus[s].revenue);return t=n-a,Object(b.jsxs)("div",{className:x.a.main,children:[Object(b.jsxs)("div",{className:x.a.card,children:[Object(b.jsx)("h2",{children:"Total Revenue:"}),Object(b.jsxs)("p",{className:x.a.green,children:["$",n]})]}),Object(b.jsxs)("div",{className:x.a.card,children:[Object(b.jsx)("h2",{children:"Total Expense:"}),Object(b.jsxs)("p",{className:x.a.red,children:["$",a]})]}),Object(b.jsxs)("div",{className:x.a.card,children:[Object(b.jsx)("h2",{children:"Total Profit:"}),Object(b.jsxs)("p",{className:x.a.blue,children:["$",t]})]})]})}var O=a(39),v=a(38),_=a.n(v);var g=function(e,t){for(var a=1;a<e.length;a++){var n=e[a],s=a-1;for(s=a-1;s>=0&&e[s][t]<n[t];s--)e[s+1]=e[s];e[s+1]=n}return e};function y(e){var t=[],a=[],n=[];e.skus.map((function(e){return t.push(e),t})),e.skus.map((function(e){return a.push(e.category),a}));for(var s=Object(O.a)(new Set(a)),r=0,c=0;c<s.length;c++){r=0;for(var o=0;o<t.length;o++)s[c]===t[o].category&&(r+=parseInt(t[o].revenue));var l={key:c,category:s[c],sum:r};n.push(l)}for(var i=g(n,"sum"),u=i.length;u>3;u--)i.pop();return Object(b.jsxs)("div",{className:"".concat(_.a.main," ").concat(_.a.teal),children:[Object(b.jsx)("h2",{className:"".concat(_.a.h2," ").concat(_.a["teal-bottom"]),children:"Top 3 Categories"}),i.map((function(e){return Object(b.jsx)("p",{className:"".concat(_.a.p," ").concat(_.a["teal-bottom"]),children:e.category},e.key)}))]})}function N(e){var t=[];e.skus.map((function(e){return t.push(e),t}));for(var a=g(t,"qtySold"),n=a.length;n>3;n--)a.pop();return Object(b.jsxs)("div",{className:"".concat(_.a.main," ").concat(_.a.teal),children:[Object(b.jsx)("h2",{className:"".concat(_.a.h2," ").concat(_.a["teal-bottom"]),children:"Top 3 Selling Items"}),a.map((function(e){return Object(b.jsx)("p",{className:"".concat(_.a.p," ").concat(_.a["teal-bottom"]),children:e.name},e.key)}))]})}function k(e){return Object(b.jsxs)("div",{className:"".concat(_.a.main," ").concat(_.a.red),children:[Object(b.jsx)("h2",{className:"".concat(_.a.h2," ").concat(_.a["red-bottom"]),children:"Low Stock"}),e.lowStock.map((function(e){return e.qty<6?Object(b.jsx)("p",{className:"".concat(_.a.p," ").concat(_.a["red-bottom"]),children:e.name},e.key):null}))]})}var S=a(7),w=a(35);function F(e){var t=Object(c.useState)([]),a=Object(r.a)(t,2),l=a[0],i=a[1],u=Object(c.useState)(!1),p=Object(r.a)(u,2),j=p[0],d=p[1],m=Object(c.useState)(null),x=Object(r.a)(m,2),O=x[0],v=x[1];function _(){return(_=Object(s.a)(Object(n.a)().mark((function e(){var t,a,s,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),v(null),e.prev=2,e.next=5,fetch("https://react-ecommerce-cms-d3834-default-rtdb.asia-southeast1.firebasedatabase.app/sku.json");case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,t.ok){e.next=11;break}throw new Error("Fetch link could have issues, something went wrong.");case 11:for(r in s=[],a)s.push({key:r,id:a[r].id,name:a[r].name,category:a[r].category,qty:a[r].qty,expense:a[r].expense,revenue:a[r].revenue,qtySold:a[r].qtySold});i(s),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),v(e.t0.message);case 19:d(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){_.apply(this,arguments)}()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(o.a,{title:"Dashboard"}),!j&&!O&&l.length>0&&Object(b.jsx)(f,{skus:l}),!j&&!O&&l.length>0&&Object(b.jsxs)("div",{className:"centered",children:[Object(b.jsx)(h,{skus:l}),Object(b.jsx)(y,{skus:l}),Object(b.jsx)(N,{skus:l}),Object(b.jsx)(k,{lowStock:l})]}),!j&&O&&Object(b.jsx)(w.a,{children:O}),!j&&0===l.length&&!O&&Object(b.jsx)(w.a,{children:"No SKUs Exists"}),j&&Object(b.jsx)(S.a,{})]})}}}]);
//# sourceMappingURL=3.dd573e41.chunk.js.map